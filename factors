#!/usr/bin/env bash

check_factor() {
    num=$1
    factors=$(python3 - <<END
from sympy.ntheory import factorint

factors = factorint($num)
result = f"{num}="
for factor, power in factors.items():
    result += f"{factor}*"*power
print(result[:-1])
END
)
    echo "$factors"
}

if [ $# -ne 1 ]; then
    echo 'Usage: factors <file>'
    exit 1
else
    while read i; do
        check_factor "$i"
    done < "$1"
fi

